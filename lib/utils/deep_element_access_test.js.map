{"version":3,"file":"deep_element_access_test.js","sourceRoot":"","sources":["../../src/utils/deep_element_access_test.ts"],"names":[],"mappings":"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","sourcesContent":["/**\r\n * @license\r\n * Copyright 2023 Google LLC\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\n// import 'jasmine'; (google3-only)\r\n\r\nimport {html, LitElement} from 'lit';\r\nimport {customElement, query} from 'lit/decorators.js';\r\n\r\nimport {Environment} from '../testing/environment.js';\r\n\r\nimport {deepContains, deepParentChain, getDeepActiveElement, someDeepContains} from './deep_element_access.js';\r\n\r\n@customElement('gmpx-test-component')\r\nclass TestComponent extends LitElement {\r\n  @query('button.shadow') shadowButton!: HTMLButtonElement;\r\n\r\n  protected override render() {\r\n    return html`\r\n      <button class=\"shadow\">Shadow button</button>\r\n      <slot></slot>\r\n    `;\r\n  }\r\n}\r\n\r\ndescribe('getDeepActiveElement', () => {\r\n  beforeEach(() => {\r\n    // Replace document.body to remove its shadow root, for the tests that\r\n    // attach one.\r\n    document.body = document.createElement('body');\r\n  });\r\n\r\n  it('returns <body> if there is no active element', () => {\r\n    expect(getDeepActiveElement()).toBe(document.body);\r\n  });\r\n\r\n  it('returns the active element in the light DOM', () => {\r\n    const button = document.createElement('button');\r\n    document.body.appendChild(button);\r\n    button.focus();\r\n\r\n    expect(getDeepActiveElement()).toBe(button);\r\n  });\r\n\r\n  it('returns the active element inside one shadow DOM', () => {\r\n    const div = document.createElement('div');\r\n    document.body.appendChild(div);\r\n    const shadow = div.attachShadow({mode: 'open'});\r\n    const button = document.createElement('button');\r\n    shadow.appendChild(button);\r\n    button.focus();\r\n\r\n    expect(getDeepActiveElement()).toBe(button);\r\n  });\r\n\r\n  it('returns the active element inside two shadow DOMs', () => {\r\n    const div = document.createElement('div');\r\n    document.body.appendChild(div);\r\n    const divShadow = div.attachShadow({mode: 'open'});\r\n    const span = document.createElement('span');\r\n    divShadow.appendChild(span);\r\n    const spanShadow = span.attachShadow({mode: 'open'});\r\n    const button = document.createElement('button');\r\n    spanShadow.appendChild(button);\r\n    button.focus();\r\n\r\n    expect(getDeepActiveElement()).toBe(button);\r\n  });\r\n\r\n  it('returns the active element when it has focusable shadow children', () => {\r\n    const div = document.createElement('div');\r\n    div.tabIndex = 0;\r\n    document.body.appendChild(div);\r\n    const shadow = div.attachShadow({mode: 'open'});\r\n    const button = document.createElement('button');\r\n    shadow.appendChild(button);\r\n    div.focus();\r\n\r\n    expect(getDeepActiveElement()).toBe(div);\r\n  });\r\n\r\n  it('returns the active element when it has a shadow <body> child', () => {\r\n    const div = document.createElement('div');\r\n    div.tabIndex = 0;\r\n    document.body.appendChild(div);\r\n    const shadow = div.attachShadow({mode: 'open'});\r\n    const body = document.createElement('body');\r\n    shadow.appendChild(body);\r\n    div.focus();\r\n\r\n    expect(getDeepActiveElement()).toBe(div);\r\n  });\r\n\r\n  it('returns <body> when <body> has a shadow root and no active el', () => {\r\n    document.body.attachShadow({mode: 'open'});\r\n\r\n    expect(getDeepActiveElement()).toBe(document.body);\r\n  });\r\n\r\n  it(`returns the active element in <body>'s shadow DOM`, () => {\r\n    const shadow = document.body.attachShadow({mode: 'open'});\r\n    const button = document.createElement('button');\r\n    shadow.appendChild(button);\r\n    button.focus();\r\n\r\n    expect(getDeepActiveElement()).toBe(button);\r\n  });\r\n\r\n  it(`returns the active element when it's slotted`, () => {\r\n    const div = document.createElement('div');\r\n    document.body.appendChild(div);\r\n    const shadow = div.attachShadow({mode: 'open'});\r\n    const slot = document.createElement('slot');\r\n    shadow.appendChild(slot);\r\n    const button = document.createElement('button');\r\n    div.appendChild(button);\r\n    button.focus();\r\n\r\n    expect(getDeepActiveElement()).toBe(button);\r\n  });\r\n\r\n  const env = new Environment();\r\n\r\n  it(`works in a component's shadow DOM`, async () => {\r\n    const root = env.render(html`\r\n      <gmpx-test-component></gmpx-test-component>\r\n    `);\r\n    const testEl = root.querySelector<TestComponent>('gmpx-test-component')!;\r\n    await env.waitForStability();\r\n\r\n    testEl.shadowButton.focus();\r\n\r\n    expect(getDeepActiveElement()).toBe(testEl.shadowButton);\r\n  });\r\n\r\n  it(`works on a component's slotted element`, async () => {\r\n    const root = env.render(html`\r\n      <gmpx-test-component>\r\n        <button class=\"slotted\">Slotted button</button>\r\n      </gmpx-test-component>\r\n    `);\r\n    const testEl = root.querySelector<TestComponent>('gmpx-test-component')!;\r\n    await env.waitForStability();\r\n\r\n    const slottedButton =\r\n        testEl.querySelector<HTMLButtonElement>('button.slotted')!;\r\n    slottedButton.focus();\r\n\r\n    expect(getDeepActiveElement()).toBe(slottedButton);\r\n  });\r\n});\r\n\r\ndescribe('deepParentChain', () => {\r\n  it('generates the deep parent chain', () => {\r\n    const parent = document.createElement('div');\r\n    const child1 = parent.appendChild(document.createElement('div'));\r\n    const shadow1 = child1.attachShadow({mode: 'open'});\r\n    const child2 = shadow1.appendChild(document.createElement('div'));\r\n    const shadow2 = child2.attachShadow({mode: 'open'});\r\n    const child3 = shadow2.appendChild(document.createElement('div'));\r\n    const chain = deepParentChain(child3);\r\n\r\n    expect(chain.next().value).toBe(child3);\r\n    expect(chain.next().value).toBe(shadow2);\r\n    expect(chain.next().value).toBe(child2);\r\n    expect(chain.next().value).toBe(shadow1);\r\n    expect(chain.next().value).toBe(child1);\r\n    expect(chain.next().value).toBe(parent);\r\n    expect(chain.next().done).toBeTrue();\r\n  });\r\n});\r\n\r\ndescribe('deepContains', () => {\r\n  it('says that a node deepContains itself', () => {\r\n    const parent = document.createElement('div');\r\n\r\n    expect(deepContains(parent, parent)).toBe(true);\r\n  });\r\n\r\n  it('returns false when either argument is null/undefined', () => {\r\n    const parent = document.createElement('div');\r\n\r\n    expect(deepContains(parent, null)).toBe(false);\r\n    expect(deepContains(parent, undefined)).toBe(false);\r\n    expect(deepContains(null, parent)).toBe(false);\r\n    expect(deepContains(undefined, parent)).toBe(false);\r\n    expect(deepContains(null, null)).toBe(false);\r\n  });\r\n\r\n  it('says that a node deepContains its light descendants', () => {\r\n    const parent = document.createElement('div');\r\n    const child = document.createElement('div');\r\n    parent.appendChild(child);\r\n    const grandchild = document.createElement('div');\r\n    child.appendChild(grandchild);\r\n\r\n    expect(deepContains(parent, child)).toBe(true);\r\n    expect(deepContains(parent, grandchild)).toBe(true);\r\n  });\r\n\r\n  it('says that a node does not deep contain a detached node', () => {\r\n    const parent = document.createElement('div');\r\n    const detached = document.createElement('div');\r\n\r\n    expect(deepContains(parent, detached)).toBe(false);\r\n  });\r\n\r\n  it('says a node does not deep contain an unrelated attached node', () => {\r\n    const parent = document.createElement('div');\r\n    const unrelated = document.createElement('div');\r\n    document.body.appendChild(unrelated);\r\n\r\n    expect(deepContains(parent, unrelated)).toBe(false);\r\n  });\r\n\r\n  it('says that a child does not deep contain a parent', () => {\r\n    const parent = document.createElement('div');\r\n    const child = document.createElement('div');\r\n    parent.appendChild(child);\r\n\r\n    expect(deepContains(child, parent)).toBe(false);\r\n  });\r\n\r\n  it('says that a node deepContains its own shadow root', () => {\r\n    const parent = document.createElement('div');\r\n    const shadow = parent.attachShadow({mode: 'open'});\r\n\r\n    expect(deepContains(parent, shadow)).toBe(true);\r\n  });\r\n\r\n  it('says that a node deepContains its shadow descendants', () => {\r\n    const parent = document.createElement('div');\r\n    const child1 = document.createElement('div');\r\n    parent.appendChild(child1);\r\n    const shadow1 = child1.attachShadow({mode: 'open'});\r\n    const child2 = document.createElement('div');\r\n    shadow1.appendChild(child2);\r\n    const shadow2 = child2.attachShadow({mode: 'open'});\r\n    const child3 = document.createElement('div');\r\n    shadow2.appendChild(child3);\r\n\r\n    expect(deepContains(parent, shadow1)).toBe(true);\r\n    expect(deepContains(parent, child2)).toBe(true);\r\n    expect(deepContains(parent, shadow2)).toBe(true);\r\n    expect(deepContains(parent, child3)).toBe(true);\r\n  });\r\n});\r\n\r\ndescribe('someDeepContains', () => {\r\n  it('returns false when rootNodes is empty', () => {\r\n    const node = document.createElement('div');\r\n\r\n    expect(someDeepContains([], node)).toBe(false);\r\n    expect(someDeepContains([], null)).toBe(false);\r\n    expect(someDeepContains([], undefined)).toBe(false);\r\n  });\r\n\r\n  it('correctly returns true with multiple root nodes', () => {\r\n    const parent1 = document.createElement('div');\r\n    const parent2 = document.createElement('div');\r\n    const child = document.createElement('div');\r\n    parent1.appendChild(child);\r\n\r\n    expect(someDeepContains([parent1, parent2], child)).toBe(true);\r\n  });\r\n\r\n  it('correctly returns false with multiple root nodes', () => {\r\n    const parent1 = document.createElement('div');\r\n    const parent2 = document.createElement('div');\r\n    const child = document.createElement('div');\r\n    document.body.appendChild(child);\r\n\r\n    expect(someDeepContains([parent1, parent2], child)).toBe(false);\r\n  });\r\n\r\n  it('correctly returns true with a duplicate root node', () => {\r\n    const parent = document.createElement('div');\r\n    const child = document.createElement('div');\r\n    parent.appendChild(child);\r\n\r\n    expect(someDeepContains([parent, parent], child)).toBe(true);\r\n  });\r\n});\r\n"]}