{"version":3,"file":"place_photo_gallery_test.js","sourceRoot":"","sources":["../../../src/place_building_blocks/place_photo_gallery/place_photo_gallery_test.ts"],"names":[],"mappings":"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","sourcesContent":["/**\r\n * @license\r\n * Copyright 2023 Google LLC\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\n// import 'jasmine'; (google3-only)\r\n\r\nimport {html} from 'lit';\r\nimport {ifDefined} from 'lit/directives/if-defined.js';\r\n\r\nimport {Environment} from '../../testing/environment.js';\r\nimport {makeFakePhoto, makeFakePlace, makeFakePlacePhoto} from '../../testing/fake_place.js';\r\nimport {getDeepActiveElement} from '../../utils/deep_element_access.js';\r\nimport type {Place, PlaceResult} from '../../utils/googlemaps_types.js';\r\n\r\nimport {PlacePhotoGallery} from './place_photo_gallery.js';\r\n\r\nconst fakePlace = makeFakePlace({\r\n  id: '1234567890',\r\n  displayName: 'Place Name',\r\n  photos: [\r\n    makeFakePhoto(\r\n        {\r\n          authorAttributions: [\r\n            {\r\n              displayName: 'Author A1',\r\n              photoURI: '',\r\n              uri: 'https://www.google.com/maps/contrib/A1',\r\n            },\r\n            {\r\n              displayName: 'Author A2',\r\n              photoURI: '',\r\n              uri: '',\r\n            },\r\n          ],\r\n          heightPx: 1000,\r\n          widthPx: 2000,\r\n        },\r\n        'https://lh3.googleusercontent.com/places/A'),\r\n    makeFakePhoto(\r\n        {\r\n          authorAttributions: [\r\n            {\r\n              displayName: 'Author B1',\r\n              photoURI: '',\r\n              uri: 'https://www.google.com/maps/contrib/B1',\r\n            },\r\n          ],\r\n          heightPx: 2000,\r\n          widthPx: 1000,\r\n        },\r\n        'https://lh3.googleusercontent.com/places/B'),\r\n    makeFakePhoto(\r\n        {\r\n          authorAttributions: [],\r\n          heightPx: 1340,\r\n          widthPx: 1420,\r\n        },\r\n        'https://lh3.googleusercontent.com/places/C'),\r\n  ],\r\n});\r\n\r\nconst fakePlaceResult: PlaceResult = {\r\n  place_id: '1234567890',\r\n  name: 'Place Name',\r\n  photos: [\r\n    makeFakePlacePhoto(\r\n        {\r\n          html_attributions: [\r\n            '<a href=\"https://www.google.com/maps/contrib/A1\">Author A1</a>',\r\n            '<a>Author A2</a>',\r\n          ],\r\n          height: 1000,\r\n          width: 2000,\r\n        },\r\n        'https://lh3.googleusercontent.com/places/A'),\r\n    makeFakePlacePhoto(\r\n        {\r\n          html_attributions: [\r\n            '<a href=\"https://www.google.com/maps/contrib/B1\">Author B1</a>',\r\n          ],\r\n          height: 2000,\r\n          width: 1000,\r\n        },\r\n        'https://lh3.googleusercontent.com/places/B'),\r\n    makeFakePlacePhoto(\r\n        {\r\n          html_attributions: [],\r\n          height: 1340,\r\n          width: 1420,\r\n        },\r\n        'https://lh3.googleusercontent.com/places/C'),\r\n  ],\r\n};\r\n\r\ndescribe('PlacePhotoGallery', () => {\r\n  const env = new Environment();\r\n\r\n  async function prepareState(config?: {\r\n    rtl?: boolean,\r\n    maxTiles?: number,\r\n    place?: Place|PlaceResult,\r\n    clickOnTile?: number,\r\n    hidden?: boolean,\r\n  }) {\r\n    const root = env.render(html`\r\n      <gmpx-place-photo-gallery\r\n        dir=${config?.rtl ? 'rtl' : 'ltr'}\r\n        max-tiles=${ifDefined(config?.maxTiles)}\r\n        .place=${config?.place}\r\n        .hidden=${config?.hidden ?? false}\r\n      ></gmpx-place-photo-gallery>\r\n    `);\r\n\r\n    await env.waitForStability();\r\n\r\n    const gallery =\r\n        root.querySelector<PlacePhotoGallery>('gmpx-place-photo-gallery')!;\r\n    const tiles =\r\n        gallery.renderRoot.querySelectorAll<HTMLButtonElement>('[part=\"tile\"]');\r\n    const lightbox =\r\n        gallery.renderRoot.querySelector<HTMLDialogElement>('.lightbox');\r\n\r\n    if (config?.clickOnTile !== undefined) {\r\n      tiles[config?.clickOnTile].click();\r\n      await env.waitForStability();\r\n    }\r\n    return {gallery, tiles, lightbox};\r\n  }\r\n\r\n  it('is defined', () => {\r\n    const el = document.createElement('gmpx-place-photo-gallery');\r\n    expect(el).toBeInstanceOf(PlacePhotoGallery);\r\n  });\r\n\r\n  it('shows ten empty tiles by default without Place data', async () => {\r\n    const {tiles} = await prepareState({place: undefined});\r\n\r\n    expect(tiles.length).toBe(10);\r\n    for (const tile of tiles) {\r\n      expect(tile.disabled).toBe(true);\r\n      expect(getComputedStyle(tile).backgroundImage).toBe('none');\r\n    }\r\n  });\r\n\r\n  it('shows `max-tiles` empty tiles if set without Place data', async () => {\r\n    const {tiles} = await prepareState({maxTiles: 5, place: undefined});\r\n\r\n    expect(tiles.length).toBe(5);\r\n    for (const tile of tiles) {\r\n      expect(tile.disabled).toBe(true);\r\n      expect(getComputedStyle(tile).backgroundImage).toBe('none');\r\n    }\r\n  });\r\n\r\n  it('shows all photos from Place data as tiles, in order', async () => {\r\n    const getUri0Spy = spyOn(fakePlace.photos![0], 'getURI').and.callThrough();\r\n    const getUri1Spy = spyOn(fakePlace.photos![1], 'getURI').and.callThrough();\r\n    const getUri2Spy = spyOn(fakePlace.photos![2], 'getURI').and.callThrough();\r\n\r\n    const {tiles} = await prepareState({place: fakePlace});\r\n\r\n    expect(tiles.length).toBe(3);\r\n    expect(getUri0Spy).toHaveBeenCalledWith({maxHeight: window.innerHeight});\r\n    expect(getUri0Spy).toHaveBeenCalledWith({maxHeight: 134});\r\n    expect(getUri1Spy).toHaveBeenCalledWith({maxWidth: window.innerWidth});\r\n    expect(getUri1Spy).toHaveBeenCalledWith({maxWidth: 142});\r\n    expect(getUri2Spy).toHaveBeenCalledWith({maxWidth: window.innerWidth});\r\n    expect(getUri2Spy).toHaveBeenCalledWith({maxWidth: 142});\r\n    expect(getComputedStyle(tiles[0]).backgroundImage)\r\n        .toBe('url(\"https://lh3.googleusercontent.com/places/A\")');\r\n    expect(getComputedStyle(tiles[1]).backgroundImage)\r\n        .toBe('url(\"https://lh3.googleusercontent.com/places/B\")');\r\n    expect(getComputedStyle(tiles[2]).backgroundImage)\r\n        .toBe('url(\"https://lh3.googleusercontent.com/places/C\")');\r\n  });\r\n\r\n  it('accounts for device pixel ratio when generating image URIs', async () => {\r\n    spyOnProperty(window, 'devicePixelRatio').and.returnValue(2);\r\n    const getUriSpy = spyOn(fakePlace.photos![0], 'getURI').and.callThrough();\r\n\r\n    await prepareState({place: fakePlace});\r\n\r\n    expect(getUriSpy).toHaveBeenCalledWith({maxHeight: window.innerHeight * 2});\r\n    expect(getUriSpy).toHaveBeenCalledWith({maxHeight: 134 * 2});\r\n  });\r\n\r\n  it('gets images with max tile size when tile has unknown size', async () => {\r\n    const getUri0Spy = spyOn(fakePlace.photos![0], 'getURI').and.callThrough();\r\n    const getUri1Spy = spyOn(fakePlace.photos![1], 'getURI').and.callThrough();\r\n\r\n    await prepareState({place: fakePlace, hidden: true});\r\n\r\n    expect(getUri0Spy).toHaveBeenCalledWith({maxHeight: 1200});\r\n    expect(getUri1Spy).toHaveBeenCalledWith({maxWidth: 1200});\r\n  });\r\n\r\n  it('shows all photos from PlaceResult data as tiles, in order', async () => {\r\n    const getUrl0Spy =\r\n        spyOn(fakePlaceResult.photos![0], 'getUrl').and.callThrough();\r\n    const getUrl1Spy =\r\n        spyOn(fakePlaceResult.photos![1], 'getUrl').and.callThrough();\r\n    const getUrl2Spy =\r\n        spyOn(fakePlaceResult.photos![2], 'getUrl').and.callThrough();\r\n\r\n    const {tiles} = await prepareState({place: fakePlaceResult});\r\n\r\n    expect(tiles.length).toBe(3);\r\n    expect(getUrl0Spy).toHaveBeenCalledWith({maxHeight: window.innerHeight});\r\n    expect(getUrl0Spy).toHaveBeenCalledWith({maxHeight: 134});\r\n    expect(getUrl1Spy).toHaveBeenCalledWith({maxWidth: window.innerWidth});\r\n    expect(getUrl1Spy).toHaveBeenCalledWith({maxWidth: 142});\r\n    expect(getUrl2Spy).toHaveBeenCalledWith({maxWidth: window.innerWidth});\r\n    expect(getUrl2Spy).toHaveBeenCalledWith({maxWidth: 142});\r\n    expect(getComputedStyle(tiles[0]).backgroundImage)\r\n        .toBe('url(\"https://lh3.googleusercontent.com/places/A\")');\r\n    expect(getComputedStyle(tiles[1]).backgroundImage)\r\n        .toBe('url(\"https://lh3.googleusercontent.com/places/B\")');\r\n    expect(getComputedStyle(tiles[2]).backgroundImage)\r\n        .toBe('url(\"https://lh3.googleusercontent.com/places/C\")');\r\n  });\r\n\r\n  it('shows first `max-tiles` photos from Place data as tiles', async () => {\r\n    const {tiles} = await prepareState({maxTiles: 1, place: fakePlace});\r\n\r\n    expect(tiles.length).toBe(1);\r\n    expect(tiles[0].getAttribute('aria-label')).toBe('Open photo 1');\r\n    expect(getComputedStyle(tiles[0]).backgroundImage)\r\n        .toBe('url(\"https://lh3.googleusercontent.com/places/A\")');\r\n  });\r\n\r\n  it('opens lightbox with corresponding Photo on tile click', async () => {\r\n    const {lightbox} = await prepareState({place: fakePlace, clickOnTile: 1});\r\n\r\n    expect(lightbox?.open).toBe(true);\r\n    expect(lightbox?.querySelector('img')?.src)\r\n        .toBe('https://lh3.googleusercontent.com/places/B');\r\n    expect(lightbox?.querySelector<HTMLDivElement>('.title')?.innerText)\r\n        .toBe('Place Name');\r\n    expect(lightbox?.querySelector<HTMLDivElement>('.caption')?.innerText)\r\n        .toBe('Photo by Author B1');\r\n  });\r\n\r\n  it('opens lightbox with corresponding PlacePhoto on tile click', async () => {\r\n    const {lightbox} =\r\n        await prepareState({place: fakePlaceResult, clickOnTile: 1});\r\n\r\n    expect(lightbox?.open).toBe(true);\r\n    expect(lightbox?.querySelector('img')?.src)\r\n        .toBe('https://lh3.googleusercontent.com/places/B');\r\n    expect(lightbox?.querySelector<HTMLDivElement>('.title')?.innerText)\r\n        .toBe('Place Name');\r\n    expect(lightbox?.querySelector<HTMLDivElement>('.caption')?.innerText)\r\n        .toBe('Photo by Author B1');\r\n  });\r\n\r\n  it('shifts focus to back button when lightbox is opened', async () => {\r\n    const {lightbox} = await prepareState({place: fakePlace, clickOnTile: 1});\r\n\r\n    const backButton =\r\n        lightbox?.querySelector<HTMLButtonElement>('[aria-label=\"Back\"]');\r\n    expect(backButton).toBeDefined();\r\n    expect(getDeepActiveElement()).toBe(backButton!);\r\n  });\r\n\r\n  it('closes lightbox when back button is clicked', async () => {\r\n    const {lightbox} = await prepareState({place: fakePlace, clickOnTile: 1});\r\n\r\n    lightbox?.querySelector<HTMLButtonElement>('[aria-label=\"Back\"]')?.click();\r\n\r\n    expect(lightbox?.open).toBeFalse();\r\n  });\r\n\r\n  it('closes lightbox when backdrop is clicked', async () => {\r\n    const {lightbox} = await prepareState({place: fakePlace, clickOnTile: 1});\r\n\r\n    lightbox?.querySelector<HTMLDivElement>('.backdrop')?.click();\r\n\r\n    expect(lightbox?.open).toBeFalse();\r\n  });\r\n\r\n  it('navigates to previous photo via left arrow key', async () => {\r\n    const {lightbox} = await prepareState({place: fakePlace, clickOnTile: 1});\r\n\r\n    document.dispatchEvent(new KeyboardEvent('keydown', {'key': 'ArrowLeft'}));\r\n    await env.waitForStability();\r\n\r\n    expect(lightbox?.querySelector('img')?.src)\r\n        .toBe('https://lh3.googleusercontent.com/places/A');\r\n  });\r\n\r\n  it('navigates to next photo via right arrow key', async () => {\r\n    const {lightbox} = await prepareState({place: fakePlace, clickOnTile: 1});\r\n\r\n    document.dispatchEvent(new KeyboardEvent('keydown', {'key': 'ArrowRight'}));\r\n    await env.waitForStability();\r\n\r\n    expect(lightbox?.querySelector('img')?.src)\r\n        .toBe('https://lh3.googleusercontent.com/places/C');\r\n  });\r\n\r\n  it('navigates to previous via right arrow key in RTL mode', async () => {\r\n    const {lightbox} =\r\n        await prepareState({rtl: true, place: fakePlace, clickOnTile: 1});\r\n\r\n    document.dispatchEvent(new KeyboardEvent('keydown', {'key': 'ArrowRight'}));\r\n    await env.waitForStability();\r\n\r\n    expect(lightbox?.querySelector('img')?.src)\r\n        .toBe('https://lh3.googleusercontent.com/places/A');\r\n  });\r\n\r\n  it('navigates to next via right arrow key in RTL mode', async () => {\r\n    const {lightbox} =\r\n        await prepareState({rtl: true, place: fakePlace, clickOnTile: 1});\r\n\r\n    document.dispatchEvent(new KeyboardEvent('keydown', {'key': 'ArrowLeft'}));\r\n    await env.waitForStability();\r\n\r\n    expect(lightbox?.querySelector('img')?.src)\r\n        .toBe('https://lh3.googleusercontent.com/places/C');\r\n  });\r\n\r\n  it('navigates to previous photo via previous button', async () => {\r\n    const {lightbox} = await prepareState({place: fakePlace, clickOnTile: 1});\r\n\r\n    lightbox?.querySelector<HTMLButtonElement>('[aria-label=\"Previous\"]')\r\n        ?.click();\r\n    await env.waitForStability();\r\n\r\n    expect(lightbox?.querySelector('img')?.src)\r\n        .toBe('https://lh3.googleusercontent.com/places/A');\r\n  });\r\n\r\n  it('navigates to next photo via next button', async () => {\r\n    const {lightbox} = await prepareState({place: fakePlace, clickOnTile: 1});\r\n\r\n    lightbox?.querySelector<HTMLButtonElement>('[aria-label=\"Next\"]')?.click();\r\n    await env.waitForStability();\r\n\r\n    expect(lightbox?.querySelector('img')?.src)\r\n        .toBe('https://lh3.googleusercontent.com/places/C');\r\n  });\r\n\r\n  it('disables previous button on first photo', async () => {\r\n    const {lightbox} = await prepareState({place: fakePlace, clickOnTile: 0});\r\n\r\n    expect(lightbox?.querySelector<HTMLButtonElement>('[aria-label=\"Previous\"]')\r\n               ?.disabled)\r\n        .toBeTrue();\r\n    expect(lightbox?.querySelector<HTMLButtonElement>('[aria-label=\"Next\"]')\r\n               ?.disabled)\r\n        .toBeFalse();\r\n  });\r\n\r\n  it('disables next button on last photo', async () => {\r\n    const {lightbox} = await prepareState({place: fakePlace, clickOnTile: 2});\r\n\r\n    expect(lightbox?.querySelector<HTMLButtonElement>('[aria-label=\"Previous\"]')\r\n               ?.disabled)\r\n        .toBeFalse();\r\n    expect(lightbox?.querySelector<HTMLButtonElement>('[aria-label=\"Next\"]')\r\n               ?.disabled)\r\n        .toBeTrue();\r\n  });\r\n\r\n  it('renders Photo attribution as link iff there is URI', async () => {\r\n    const {lightbox} = await prepareState({place: fakePlace, clickOnTile: 0});\r\n\r\n    const caption = lightbox?.querySelector<HTMLDivElement>('.caption')!;\r\n    expect(caption.textContent)\r\n        .toHaveNormalizedText('Photo by Author A1 Author A2');\r\n    const anchors = caption.querySelectorAll<HTMLAnchorElement>('a');\r\n    expect(anchors).toHaveSize(1);\r\n    expect(anchors[0].innerText.trim()).toBe('Author A1');\r\n    expect(anchors[0].getAttribute('href'))\r\n        .toBe('https://www.google.com/maps/contrib/A1');\r\n  });\r\n\r\n  it('renders PlacePhoto attribution as link iff there is URI', async () => {\r\n    const {lightbox} =\r\n        await prepareState({place: fakePlaceResult, clickOnTile: 0});\r\n\r\n    const caption = lightbox?.querySelector<HTMLDivElement>('.caption')!;\r\n    expect(caption.textContent)\r\n        .toHaveNormalizedText('Photo by Author A1 Author A2');\r\n    const anchors = caption.querySelectorAll<HTMLAnchorElement>('a');\r\n    expect(anchors).toHaveSize(1);\r\n    expect(anchors[0].innerText.trim()).toBe('Author A1');\r\n    expect(anchors[0].getAttribute('href'))\r\n        .toBe('https://www.google.com/maps/contrib/A1');\r\n  });\r\n});\r\n"]}