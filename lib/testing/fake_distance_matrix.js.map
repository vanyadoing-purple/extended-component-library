{"version":3,"file":"fake_distance_matrix.js","sourceRoot":"","sources":["../../src/testing/fake_distance_matrix.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,MAAM,CAAC,MAAM,aAAa,GAAG,GAAG,CAAC;AAEjC;;;;GAIG;AACH,MAAM,UAAU,8BAA8B,CAC1C,OAA0C,EAC1C,gBACI,IAAI,GAAG,EAAmB;IAChC,MAAM,IAAI,GAA4C,EAAE,CAAC;IACzD,KAAK,MAAM,CAAC,IAAI,OAAO,CAAC,OAAO,EAAE;QAC/B,MAAM,GAAG,GAAG,EAAE,CAAC;QACf,KAAK,MAAM,WAAW,IAAI,OAAO,CAAC,YAAY,EAAE;YAC9C,MAAM,SAAS,GAAG,aAAa,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,aAAa,CAAC;YAClE,MAAM,MAAM,GAAG;gBACb,MAAM,EAAE,IAA+C;gBACvD,QAAQ,EAAE,EAAC,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,SAAS,IAAI,OAAO,CAAC,UAAU,EAAE,EAAC;aAC5B,CAAC;YAC/C,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAClB;QACD,IAAI,CAAC,IAAI,CAAC,EAAC,QAAQ,EAAE,GAAG,EAAC,CAAC,CAAC;KAC5B;IACD,OAAO,EAAC,eAAe,EAAE,EAAE,EAAE,oBAAoB,EAAE,EAAE,EAAE,IAAI,EAAC,CAAC;AAC/D,CAAC","sourcesContent":["/**\r\n * @license\r\n * Copyright 2023 Google LLC\r\n * SPDX-License-Identifier: Apache-2.0\r\n */\r\n\r\nexport const FAKE_DM_VALUE = 101;\r\n\r\n/**\r\n * Creates a fake Distance Matrix response, based on a map `fakeDistances` that\r\n * specifies the resulting distance for a given _destination_ point. If a\r\n * destination isn't found in the map, 101 is used as the distance.\r\n */\r\nexport function makeFakeDistanceMatrixResponse(\r\n    request: google.maps.DistanceMatrixRequest,\r\n    fakeDistances =\r\n        new Map<unknown, number>()): google.maps.DistanceMatrixResponse {\r\n  const rows: google.maps.DistanceMatrixResponseRow[] = [];\r\n  for (const _ of request.origins) {\r\n    const row = [];\r\n    for (const destination of request.destinations) {\r\n      const fakeValue = fakeDistances.get(destination) ?? FAKE_DM_VALUE;\r\n      const result = {\r\n        status: 'OK' as google.maps.DistanceMatrixElementStatus,\r\n        distance: {value: fakeValue, text: `${fakeValue} ${request.unitSystem}`}\r\n      } as google.maps.DistanceMatrixResponseElement;\r\n      row.push(result);\r\n    }\r\n    rows.push({elements: row});\r\n  }\r\n  return {originAddresses: [], destinationAddresses: [], rows};\r\n}"]}